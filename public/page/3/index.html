<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>飞雪无情的博客</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description">
<meta property="og:type" content="website">
<meta property="og:title" content="飞雪无情的博客">
<meta property="og:url" content="http://www.flysnow.org/page/3/index.html">
<meta property="og:site_name" content="飞雪无情的博客">
<meta property="og:description">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="飞雪无情的博客">
<meta name="twitter:description">
  
    <link rel="alternative" href="/atom.xml" title="飞雪无情的博客" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-44570956-1', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->


</head>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">飞雪无情的博客</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">专注于Android、Java、移动互联网、项目管理、软件架构</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">首页</a>
        
          <a class="main-nav-link" href="/archives">归档</a>
        
          <a class="main-nav-link" href="/about">关于</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="q" value="site:http://www.flysnow.org"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-download-android-4-0-sources" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2011/11/15/download-android-4-0-sources.html" class="article-date">
  <time datetime="2011-11-14T17:41:00.000Z" itemprop="datePublished">2011-11-15</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Android/">Android</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2011/11/15/download-android-4-0-sources.html">最新最全的Android4.0 API源代码下载和完整Android4.0源代码下载教程</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>这时刚刚整理好的最新的，包含所有的API的源代码，第一次上传的那个Android4.0 API 源代码有部分API没有包含，请点击下面的链接下载最新的。</p>
<p>附Android4.0 API 源代码下载<a href="http://download.csdn.net/detail/michael__li/3802305" target="_blank" rel="external">http://download.csdn.net/detail/michael__li/3802305</a></p>
<p>昨日凌晨Android放出4.0源代码，已经托管到GoogleSource上，大家可以下载了，这次放出的branch为Android-4.0.0_r1。</p>
<p>下载教程。操作系统环境为Linux,并且确保你已经安装了git jdk python等.</p>
<p>1.创建bin目录，并加入到PATH</p>
<pre><code>$ <span class="built_in">mkdir</span> ~/bin
$ <span class="built_in">PATH</span>=~/bin:$<span class="built_in">PATH</span>
</code></pre><p>2.下载repo到刚刚创建的bin目录，并设置权限为可执行。</p>
<pre><code><span class="variable">$ </span>curl <span class="symbol">https:</span>/<span class="regexp">/dl-ssl.google.com/dl</span><span class="regexp">/googlesource/git</span>-repo/repo &gt; ~<span class="regexp">/bin/repo</span>
<span class="variable">$ </span>chmod a+x ~<span class="regexp">/bin/repo</span>
</code></pre><p>3.创建Android源代码存放目录并进入到该目录</p>
<pre><code>$ mkdirAndroid-<span class="number">4.0</span><span class="number">.0</span>_<span class="built_in">r1</span>
$ cdAndroid-<span class="number">4.0</span><span class="number">.0</span>_<span class="built_in">r1</span>
</code></pre><p>4.初始化Android4.0.1的Git库</p>
<pre><code><span class="variable">$ </span>repo init -u <span class="symbol">https:</span>/<span class="regexp">/android.googlesource.com/platform</span><span class="regexp">/manifest -b android-4.0.1_r1</span>
</code></pre><p>5.最后执行开始同步下载</p>
<pre><code><span class="variable">$ </span>repo sync
</code></pre><p>然后就是漫长的等待了。。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.flysnow.org/2011/11/15/download-android-4-0-sources.html" data-id="ci7ewbgr7002tgun14buqgium" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Android/">Android</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Ubuntu/">Ubuntu</a></li></ul>

    </footer>
  </div>
  
</article>

  

  
    <article id="post-android-asset-studio-integration" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2011/11/11/android-asset-studio-integration.html" class="article-date">
  <time datetime="2011-11-11T08:18:00.000Z" itemprop="datePublished">2011-11-11</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Android/">Android</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2011/11/11/android-asset-studio-integration.html">Android设计应用图标不用愁---Asset Studio Integration来帮你</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><a href="http://android-ui-utils.googlecode.com/hg/asset-studio/dist/index.html" target="_blank" rel="external">Android Asset Studio</a>Web版是一个非常好用的Andrid图标资源设计工具，它是由RomanNurik开发的。现在我们已经在ADT14里支持同样的功能。首先，你要打开新建向导（Ctrl-N）,选择Android分类，然后在其下找到名字为“Android Icon Set”的这一项：</p>
<p><img src="http://hi.csdn.net/attachment/201111/10/0_13209351362229.gif" alt=""></p>
<p>然后，将会弹出“资源选择器”（这些资源其实就是你在布局文件用到的那些图片，比如对于上下文菜单自定义的背景图片，就需要一个为“Background”属性设置一个@drawable的引用）对话框，该对话框里有个按钮(Create New Icon…)，点击它.</p>
<p><img src="http://hi.csdn.net/attachment/201111/10/0_1320936348j75Y.gif" alt=""></p>
<p>当你打开Android Icon Set向导的时候，首先看到的是一个资源类型选择界面，也就是你想创建哪一类图标：</p>
<p><img src="http://hi.csdn.net/attachment/201111/10/0_1320936495Wu61.gif" alt=""></p>
<p>在这里，你可以选择创建哪一类图标，并且为这个被创建的图标起一个名字。</p>
<p>如果你选择创建一个启动图标并且单击了下一步，这时你会看到如下界面：</p>
<p><img src="http://hi.csdn.net/attachment/201111/10/0_1320936654FoRB.gif" alt=""></p>
<p>这个界面包含很多功能。首先你会在右边看到我们正在创建和处理的图标的预览图。正如你所看到的，针对不同分辨率的屏幕它创建了多个图标，这就是刚刚为什么我们指的是一个“图标集合”，而不仅仅是一个“图标”。除了上面显示的，我们还创建了一个高分辨率的“web”版本的图标，你可能会在上传应用到Android Market的时候用到它（译者按：在上传App倒Android<br>Market的时候，可以上传一个大图标）。</p>
<p><img src="http://hi.csdn.net/attachment/201111/10/0_1320937517H8eb.gif" alt=""></p>
<p>仔细看下这个图标，你会发现它比我们在上面预览（Preview）那里看到的更有光泽。你可以选择界面上的“Glossy”选项来使得你的图标具有光泽的效果。</p>
<p><img src="http://hi.csdn.net/attachment/201111/10/0_1320937955mwIb.gif" alt=""></p>
<p>你还可以设置背景的形状。文本的字体、颜色等等。</p>
<p><img src="http://hi.csdn.net/attachment/201111/10/0_1320938081E0sR.gif" alt=""></p>
<p>然而，使用文本并不能做出非常好的图标，但是请注意，这仅仅是我们为了得到初步的效果而采取的一种很快捷的方式。请注意界面的最上面还有三个功能选项：</p>
<ul>
<li>图片</li>
</ul>
<ul>
<li>剪贴画</li>
</ul>
<ul>
<li>文本</li>
</ul>
<p>理想情况下你会用你自己的“基准”图像（或者如果需要的话会是一个剪贴画），然后使用Asset Studio 向导生成合适的图标。</p>
<p>你会问了：“我已经有了一个自己绘制好的图标了，那么我为什么还要再生成”？原因就是Anroid有不同的版本、不同的主题，这就意味着你会提供不同效果、不同颜色以及不同样式的图标。比如下面我为状态栏和通知栏生成的图标：</p>
<p><img src="http://hi.csdn.net/attachment/201111/10/0_1320939254gexG.gif" alt=""></p>
<p>你可以看到使用的基准图像只是一个简单的黑白相间的Bugdroid图像，但是我们为Gingerbread(v9)、Honeycomb(v11)以及老的版本都生成了不同样式的图标。对于ActionBar，Asset Studio向导会生成亮、暗两种不同Holo 主题的图标。对于选项卡则会生成“选中”和“未选中”两种不同样式的图标，并且对于v5（Andoid2.0）之前的版本则会新生成不同演示的“未选中”状态的图标（译者按：Asset<br>Studio对于v5版本前后生成的“为选中”图标是不一样的，从下图可以看出，v5之前的图标发白，v5之后的发灰）。</p>
<p><img src="http://hi.csdn.net/attachment/201111/10/0_1320940269VMv2.gif" alt=""></p>
<p>使用Asset Studio的一个优势就是在你点击完成按钮后，它可以直接在你当前的项目中生成你设计好的图标。这样你就不用像使用Web版本（译者按：前面提到过，这个工具一开始是Web App，ADT14才加入进来，成为ADT的一部分）一样，还要下载下来并且提取图标放在正确的位置。它还会在图标名字冲突的时候提示你是否覆盖原文件。如果你在上面的资源选择器界面里点击了“Create<br>Icon”按钮，那么新创建的图标将会在选择器里被选中。</p>
<p>当你点击完成退出向导的时候，包资源管理器会自动更新并且选中新创建的图标。</p>
<p><img src="http://hi.csdn.net/attachment/201111/11/0_1321025460X3wc.gif" alt=""></p>
<p>和ADT集成的第二个优势就是我们可以知道你的项目工程的minimum SDK target，我们就可以利用这些信息仅仅生成必要的图标。比如你正在基于Android2.0或者以上版本开发一个App，那么我们将不会生成不需要的老的样式的图标，也不需要名字为drawable-mdpi-v5的文件夹等等；生成的图标直接会被放进drawable-mdpi文件夹里。</p>
<p>我们希望这些内容能让你更容易的创建很好的应用。请不要经常使用那个文本功能:（译者按：最好使用Image和Clipart两个）-)我们还仍需要为AOSP贡献更多的剪贴画，这样大家就可以在向导里选择使用（译者按：目前向导的剪贴画只有一个，可以参见前面的图片），所以如果你是个艺术设计者，我们非常欢迎你贡献些剪贴画出来！（请参见<a href="http://tools.android.com/contributing" target="_blank" rel="external">贡献页面</a>）</p>
<p>非常感谢Roman Nurik写出了这么好的网页应用并且为移植到ADT提供了帮助。</p>
<p>译自：<a href="http://tools.android.com/recent/assetstudiointegration" target="_blank" rel="external">http://tools.android.com/recent/assetstudiointegration</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.flysnow.org/2011/11/11/android-asset-studio-integration.html" data-id="ci7ewbgrb0031gun1xi8n7an9" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Android/">Android</a></li></ul>

    </footer>
  </div>
  
</article>

  

  
    <article id="post-adsl-and-vpn-config-for-ubuntu" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2011/10/22/adsl-and-vpn-config-for-ubuntu.html" class="article-date">
  <time datetime="2011-10-22T08:06:17.000Z" itemprop="datePublished">2011-10-22</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Linux/">Linux</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2011/10/22/adsl-and-vpn-config-for-ubuntu.html">Ubuntu下ADSL拨号和VPN 访问网站</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="1-更新NetworkManager">1.更新NetworkManager</h2><p>添加更新源：deb <a href="http://ppa.launchpad.net/network-manager/trunk/ubuntu" target="_blank" rel="external">http://ppa.launchpad.net/network-manager/trunk/ubuntu</a> maverick main</p>
<p>deb-src <a href="http://ppa.launchpad.net/network-manager/trunk/ubuntu" target="_blank" rel="external">http://ppa.launchpad.net/network-manager/trunk/ubuntu</a> maverick main</p>
<p>执行sudo apt-get update更新，然后打开更新管理器进行更新软件。</p>
<h2 id="2-启用NetworkManager。">2.启用NetworkManager。</h2><p>修改/etc/NetworkManager/NetworkManager.conf文件里的managed为true保存。修改/etc/network/interfaces文件，只保留最上面两行的auto lo iface lo inet loopback,然后删除/etc/resolv.conf，最后重启networkmanager sudo /etc/init.d/network-manager restart。</p>
<h2 id="3-添加DSL和VPN配置">3.添加DSL和VPN配置</h2><p>看到面板里的网络链接，编辑他，添加DSL链接，之用输入用户名和密码即可，VPN链接选用pptp协议，输入服务器地址和用户名密码即可</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.flysnow.org/2011/10/22/adsl-and-vpn-config-for-ubuntu.html" data-id="ci7ewbgrc0034gun1q27k6e2n" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Ubuntu/">Ubuntu</a></li></ul>

    </footer>
  </div>
  
</article>

  

  
    <article id="post-android-send-email-intro" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2011/07/19/android-send-email-intro.html" class="article-date">
  <time datetime="2011-07-19T06:50:52.000Z" itemprop="datePublished">2011-07-19</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Android/">Android</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2011/07/19/android-send-email-intro.html">Android中我为什么发不了邮件--Android邮件发送详解</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Android中我为什么发不了邮件？？？我手机里明明有邮件客户端的，可我为什么不能调用它发送邮件？？？相信这是很多人会问的问题，手机里有Email客户端，可是偏偏在自己的应用里调用不了，抑或是不知道怎么调用，还有的是一直认为自己写对了，可是偏偏不能调用，无奈之下只能却网上找段代码粘贴上，ok，可以了。。可是你知道别人的代码为什么可以？你知道调用Email是怎么工作的吗？如果你又像给多人发邮件，还想发送附件，怎么做？又迷糊了吧？所以需要搞懂原理才能一通百通，举一反三，而这就是这篇博文要写的，也是你可以在这篇博文中学到的。</p>
<p>在这里你可以学到：</p>
<ol>
<li>什么是Intent和Intent Fileter</li>
</ol>
<ol>
<li>如何发送Email</li>
</ol>
<ol>
<li>如何发送特定的标题和内容的Emil</li>
</ol>
<ol>
<li>如何发送给多人</li>
</ol>
<ol>
<li>如何抄送和密送</li>
</ol>
<ol>
<li>如何发送附件</li>
</ol>
<h2 id="一：什么是Intent和Intent_Fileter">一：什么是Intent和Intent Fileter</h2><p>关于这个详细介绍请参考 :</p>
<p><a href="/2011/03/14/android-intents-and-intent-filters-one.html">Intents and Intent Filters(一)</a></p>
<p><a href="/2011/03/17/android-intents-and-intent-filters-two.html">Intents and Intent Filters(二)</a></p>
<p><a href="/2011/03/29/android-intents-and-intent-filters-three.html">Intents and Intent Filters(三)</a></p>
<h2 id="二：如何发送Email">二：如何发送Email</h2><p>通过上面就会知道Android应用之间的通信是通过Intent这个东西，如果手机中有实现了你想要功能的应用那么你就不用麻烦去实现一个拉。直接使用就可以，比如这里的发送邮件。</p>
<p>我们新建一个工程SendEmail，基于Android1.6实现。然后定义布局文件和代码如下：</p>
<pre><code>&lt;?xml version=<span class="string">"1.0"</span> encoding=<span class="string">"utf-8"</span>?&gt;
&lt;<span class="type">LinearLayout</span> xmlns:android=<span class="string">"http://schemas.android.com/apk/res/android"</span>
    android:orientation=<span class="string">"vertical"</span>
    android:layout_width=<span class="string">"fill_parent"</span>
    android:layout_height=<span class="string">"fill_parent"</span>
    &gt;
&lt;<span class="type">Button</span>
    android:id=<span class="string">"@+id/send_btn"</span>  
    android:layout_width=<span class="string">"fill_parent"</span> 
    android:layout_height=<span class="string">"wrap_content"</span> 
    android:text=<span class="string">"Send Action"</span>
    /&gt;
&lt;/<span class="type">LinearLayout</span>&gt;





 <span class="comment">/** 发送邮件测试界面
 * @author 飞雪无情
 * ＠since 2011-7-19
 */</span>
public <span class="class"><span class="keyword">class</span> <span class="title">SendEmailActivity</span> <span class="keyword"><span class="keyword">extends</span></span> <span class="title">Activity</span> <span class="title">implements</span> <span class="title">View</span>.<span class="title">OnClickListener</span>{</span>
    <span class="keyword">private</span> <span class="type">Button</span> mSendBtn;
    <span class="comment">/** Called when the activity is first created. */</span>
    <span class="annotation">@Override</span>
    public void onCreate(<span class="type">Bundle</span> savedInstanceState) {
        <span class="keyword">super</span>.onCreate(savedInstanceState);
        setContentView(<span class="type">R</span>.layout.main);
        mSendBtn=(<span class="type">Button</span>)findViewById(<span class="type">R</span>.id.send_btn);
        mSendBtn.setOnClickListener(<span class="keyword">this</span>);
    }
    <span class="annotation">@Override</span>
    public void onClick(<span class="type">View</span> v) {
        switch(v.getId()){
        <span class="keyword">case</span> <span class="type">R</span>.id.send_btn:
            startSendEmailIntent();
            <span class="keyword">break</span>;
        }
    }
    <span class="keyword">private</span> void startSendEmailIntent(){
        <span class="type">Intent</span> data=<span class="keyword">new</span> <span class="type">Intent</span>(<span class="type">Intent</span>.<span class="type">ACTION_SENDTO</span>);
        data.setData(<span class="type">Uri</span>.parse(<span class="string">"mailto:qq10000@qq.com"</span>));
        data.putExtra(<span class="type">Intent</span>.<span class="type">EXTRA_SUBJECT</span>, <span class="string">"这是标题"</span>);
        data.putExtra(<span class="type">Intent</span>.<span class="type">EXTRA_TEXT</span>, <span class="string">"这是内容"</span>);
        startActivity(data);
    }
}
</code></pre><p>这是我们运行应用，点击按钮就会看到如下效果:</p>
<p><img src="http://dl.iteye.com/upload/attachment/520422/f01623aa-77eb-3a1f-bf30-306092c83e0d.png" alt=""><br><img src="http://dl.iteye.com/upload/attachment/520425/ed85ef04-3760-33a4-a0e7-b4fc2701eaca.png" alt=""></p>
<h2 id="三：分析发送代码">三：分析发送代码</h2><p>主要的发送代码如下：</p>
<pre><code>Intent <span class="built_in">data</span><span class="subst">=</span><span class="literal">new</span> Intent(Intent<span class="built_in">.</span>ACTION_SENDTO);
<span class="built_in">data</span><span class="built_in">.</span>setData(Uri<span class="built_in">.</span>parse(<span class="string">"mailto:qq10000@qq.com"</span>));
<span class="built_in">data</span><span class="built_in">.</span>putExtra(Intent<span class="built_in">.</span>EXTRA_SUBJECT, <span class="string">"这是标题"</span>);
<span class="built_in">data</span><span class="built_in">.</span>putExtra(Intent<span class="built_in">.</span>EXTRA_TEXT, <span class="string">"这是内容"</span>);
startActivity(<span class="built_in">data</span>);
</code></pre><ol>
<li>首先构造一个Action为SENDTO的Action</li>
</ol>
<ol>
<li>其次创建一个Uri，他是一个mailto的邮件链接，也就是接收地址.</li>
</ol>
<ol>
<li>再通过Intent.EXTRA_SUBJECT和Intent.EXTRA_TEXT传递标题和文本的数据，记住，一定要使用这些常量，这是标准，否则Email客户端不认识，那样你传递的标题和文本就不起作用了。</li>
</ol>
<ol>
<li>然后就是startActivity进行打开，系统会根据Intent自动匹配找到能处理这个intent的应用，如图列表，有很多个，我们这里选择网易掌上邮，就打开了一个邮件发送界面，如我们所愿，邮件地址、标题和内容都在了，很成功.</li>
</ol>
<ol>
<li>intent中的数据传递是以Extra的方式进行put后传递的，然后在使用的时候getter取出使用。</li>
</ol>
<h2 id="四：发送给多人以及抄送和密送">四：发送给多人以及抄送和密送</h2><p>发送给多人以及抄送和密送都很简单，查找Intent类中的Extra常量，发送有这么三个常量:Intent.EXTRA_EMAIL,Intent.EXTRA_CC,Intent.EXTRA_BCC。这三个分别用于传递“接受人地址列表”、“抄送人地址列表”和“密送人地址列表”，传递的都是String[]类型的Email地址，如果数组中有多个地址，就可以发送给多人。发送的函数修改如下，我们看下效果:</p>
<pre><code>private <span class="keyword">void</span> startSendEmailIntent(){
        Intent data=<span class="keyword">new</span> Intent(Intent.ACTION_SENDTO);
        data.setData(<span class="built_in">Uri</span>.parse(<span class="string">"mailto:qq10000@qq.com"</span>));
        data.putExtra(Intent.EXTRA_EMAIL, <span class="keyword">new</span> <span class="built_in">String</span>[]{<span class="string">"ls8707@163.com"</span>,<span class="string">"ls8708@163.com"</span>});
        data.putExtra(Intent.EXTRA_CC, <span class="keyword">new</span> <span class="built_in">String</span>[]{<span class="string">"ls8709@163.com"</span>});
        data.putExtra(Intent.EXTRA_BCC, <span class="keyword">new</span> <span class="built_in">String</span>[]{<span class="string">"ls810@163.com"</span>});
        data.putExtra(Intent.EXTRA_SUBJECT, <span class="string">"这是标题"</span>);
        data.putExtra(Intent.EXTRA_TEXT, <span class="string">"这是内容"</span>);
        startActivity(data);
    }
</code></pre><p><img src="http://dl.iteye.com/upload/attachment/520438/c837b159-0616-3890-8344-2dd841b43585.png" alt=""></p>
<h2 id="五，发送附件">五，发送附件</h2><p>Email’客户端的发送Activity提供了两个Intent Filter，一个用于发送普通邮件，一个用户发送带有附件的邮件。区分很很容易的，发送普通邮件的那个Intent Filter配置的Action SENDTO，而带有附件的邮件则是SEND,所以是2个不一样，但是哪些比如附加“标题”，“内容”，“抄送”，“发送多人”等等还是通用的。布局文件新增一个按钮，用于发送带有附件的邮件，Activity代码也做修改。</p>
<pre><code>&lt;Button
    android:id=<span class="string">"@+id/send_to_btn"</span>  
    android:layout_width=<span class="string">"fill_parent"</span> 
    android:layout_height=<span class="string">"wrap_content"</span> 
    android:text=<span class="string">"SendTo Action"</span>/&gt;





 <span class="comment">/* * 发送邮件测试界面
 * @author 飞雪无情 
 * ＠since 2011-7-19
 */</span>
<span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SendEmailActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span> <span class="keyword">implements</span> <span class="title">View</span>.<span class="title">OnClickListener</span></span>{
    <span class="keyword">private</span> Button mSendBtn;
    <span class="keyword">private</span> Button mSendToBtn;
    <span class="javadoc">/** Called when the activity is first created. */</span>
    <span class="annotation">@Override</span>
    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>{
        <span class="keyword">super</span>.onCreate(savedInstanceState);
        setContentView(R.layout.main);
        mSendBtn=(Button)findViewById(R.id.send_btn);
        mSendToBtn=(Button)findViewById(R.id.send_to_btn);
        mSendBtn.setOnClickListener(<span class="keyword">this</span>);
        mSendToBtn.setOnClickListener(<span class="keyword">this</span>);
    }
    <span class="annotation">@Override</span>
    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View v)</span> </span>{
        <span class="keyword">switch</span>(v.getId()){
        <span class="keyword">case</span> R.id.send_btn:
            startSendEmailIntent();
            <span class="keyword">break</span>;
        <span class="keyword">case</span> R.id.send_to_btn:
            startSendToEmailIntent();
            <span class="keyword">break</span>;
        }
    }
    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">startSendEmailIntent</span><span class="params">()</span></span>{
        Intent data=<span class="keyword">new</span> Intent(Intent.ACTION_SENDTO);
        data.setData(Uri.parse(<span class="string">"mailto:qq10000@qq.com"</span>));
        data.putExtra(Intent.EXTRA_EMAIL, <span class="keyword">new</span> String[]{<span class="string">"ls8707@163.com"</span>,<span class="string">"ls8708@163.com"</span>});
        data.putExtra(Intent.EXTRA_CC, <span class="keyword">new</span> String[]{<span class="string">"ls8709@163.com"</span>});
        data.putExtra(Intent.EXTRA_BCC, <span class="keyword">new</span> String[]{<span class="string">"ls810@163.com"</span>});
        data.putExtra(Intent.EXTRA_SUBJECT, <span class="string">"这是标题"</span>);
        data.putExtra(Intent.EXTRA_TEXT, <span class="string">"这是内容"</span>);
        startActivity(data);
    }
    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">startSendToEmailIntent</span><span class="params">()</span></span>{
        Intent data=<span class="keyword">new</span> Intent(Intent.ACTION_SEND);
        data.putExtra(Intent.EXTRA_EMAIL, <span class="keyword">new</span> String[]{<span class="string">"ls8707@163.com"</span>});
        data.putExtra(Intent.EXTRA_SUBJECT, <span class="string">"这是标题"</span>);
        data.putExtra(Intent.EXTRA_TEXT, <span class="string">"这是内容"</span>);
        data.putExtra(Intent.EXTRA_STREAM, Uri.parse(<span class="string">""</span>));
        data.setType(<span class="string">"text/plain"</span>);
        startActivity(data);
    }
}
</code></pre><p>运行应用，我们看到效果图里最小面的附件标识，说明已经可以发送附件了.</p>
<p><img src="http://dl.iteye.com/upload/attachment/520458/5ebe4f65-d647-3e0e-8a28-c351e8b5fccb.png" alt=""></p>
<p>发送附件最重要的就是Action必须为SEND，type一定要设置setType(“”),还要为Intent.EXTRA_STREAM赋值，类型为Uri，一个附件的Uri。这样才能发送附件。</p>
<h2 id="六，客户端Email应用的发送Activity配置">六，客户端Email应用的发送Activity配置</h2><p>这是Android1.6自带Email客户端的配置，如下：</p>
<pre><code><span class="tag">&lt;<span class="title">activity</span>
            <span class="attribute">android:name</span>=<span class="value">".activity.MessageCompose"</span>
            <span class="attribute">android:label</span>=<span class="value">"@string/app_name"</span>
            <span class="attribute">android:enabled</span>=<span class="value">"false"</span>
            &gt;</span>
            <span class="tag">&lt;<span class="title">intent-filter</span>&gt;</span>
                <span class="tag">&lt;<span class="title">action</span> <span class="attribute">android:name</span>=<span class="value">"android.intent.action.VIEW"</span> /&gt;</span>
                <span class="tag">&lt;<span class="title">action</span> <span class="attribute">android:name</span>=<span class="value">"android.intent.action.SENDTO"</span> /&gt;</span>
                <span class="tag">&lt;<span class="title">data</span> <span class="attribute">android:scheme</span>=<span class="value">"mailto"</span> /&gt;</span>
                <span class="tag">&lt;<span class="title">category</span> <span class="attribute">android:name</span>=<span class="value">"android.intent.category.DEFAULT"</span> /&gt;</span>
                <span class="tag">&lt;<span class="title">category</span> <span class="attribute">android:name</span>=<span class="value">"android.intent.category.BROWSABLE"</span> /&gt;</span>
            <span class="tag">&lt;/<span class="title">intent-filter</span>&gt;</span>
            <span class="tag">&lt;<span class="title">intent-filter</span> <span class="attribute">android:label</span>=<span class="value">"@string/app_name"</span>&gt;</span>
                <span class="tag">&lt;<span class="title">action</span> <span class="attribute">android:name</span>=<span class="value">"android.intent.action.SEND"</span> /&gt;</span>
                <span class="tag">&lt;<span class="title">data</span> <span class="attribute">android:mimeType</span>=<span class="value">"text/plain"</span> /&gt;</span>
                <span class="tag">&lt;<span class="title">data</span> <span class="attribute">android:mimeType</span>=<span class="value">"image/*"</span> /&gt;</span>
                <span class="tag">&lt;<span class="title">data</span> <span class="attribute">android:mimeType</span>=<span class="value">"video/*"</span> /&gt;</span>
                <span class="tag">&lt;<span class="title">category</span> <span class="attribute">android:name</span>=<span class="value">"android.intent.category.DEFAULT"</span> /&gt;</span>
            <span class="tag">&lt;/<span class="title">intent-filter</span>&gt;</span>
        <span class="tag">&lt;/<span class="title">activity</span>&gt;</span>
</code></pre><p>从以上代码总结:</p>
<ol>
<li>一个Activity定义了2个Intent Filter用于发送不同类型邮件。</li>
</ol>
<ol>
<li>SENDTO发送普通邮件，SEND可以发送普通和带有附件的，不过最好主要用于发送附件。</li>
</ol>
<ol>
<li>使用SENDTO时，必须为Intent设置Data，也就是Uri，内容为”mailto:emailaddr”,否则不能匹配，因为有schema必须为mailto的限制</li>
</ol>
<ol>
<li>使用SEND时必须要设置type，也就是使用setType()方法，type只能为以前xml定义的4个。不过我测试了text/*也可以，其他的没测试.</li>
</ol>
<ol>
<li>发送附件只能使用SEND这个Action.</li>
</ol>
<p>附加Email客户端中提取Email地址，抄送，标题，附件等信息的源代码分析.</p>
<pre><code><span class="keyword">void</span> initFromIntent(Intent intent) {

        <span class="comment">//提取接受人地址列表</span>
        <span class="keyword">String</span>[] extraStrings = intent.getStringArrayExtra(Intent.EXTRA_EMAIL);
        <span class="keyword">if</span> (extraStrings != <span class="keyword">null</span>) {
            addAddresses(mToView, extraStrings);
        }
<span class="comment">//提取抄送人地址列表</span>
        extraStrings = intent.getStringArrayExtra(Intent.EXTRA_CC);
        <span class="keyword">if</span> (extraStrings != <span class="keyword">null</span>) {
            addAddresses(mCcView, extraStrings);
        }
<span class="comment">//提取密送人地址列表</span>
        extraStrings = intent.getStringArrayExtra(Intent.EXTRA_BCC);
        <span class="keyword">if</span> (extraStrings != <span class="keyword">null</span>) {
            addAddresses(mBccView, extraStrings);
        }
<span class="comment">//提取标题</span>
        <span class="keyword">String</span> extraString = intent.getStringExtra(Intent.EXTRA_SUBJECT);
        <span class="keyword">if</span> (extraString != <span class="keyword">null</span>) {
            mSubjectView.setText(extraString);
        }

        <span class="comment">//提取Uri中的接受人地址</span>
        <span class="keyword">final</span> Uri dataUri = intent.getData();
        <span class="keyword">if</span> (dataUri != <span class="keyword">null</span>) {
            <span class="keyword">if</span> (<span class="string">"mailto"</span>.equals(dataUri.getScheme())) {
                initializeFromMailTo(dataUri.toString());
            } <span class="keyword">else</span> {
                <span class="keyword">String</span> toText = dataUri.getSchemeSpecificPart();
                <span class="keyword">if</span> (toText != <span class="keyword">null</span>) {
                    addAddresses(mToView, toText.<span class="built_in">split</span>(<span class="string">","</span>));
                }
            }
        }

       <span class="comment">//提取邮件内容</span>

        CharSequence <span class="built_in">text</span> = intent.getCharSequenceExtra(Intent.EXTRA_TEXT);
        <span class="keyword">if</span> (<span class="built_in">text</span> != <span class="keyword">null</span>) {
            mMessageContentView.setText(<span class="built_in">text</span>);
        }

      <span class="comment">//提取附件，可以看出Action必须是SEND.EXTRA_STREAM中有数据</span>
     <span class="comment">//type不能为null,这样才能提取倒附件.</span>

        <span class="keyword">if</span> (Intent.ACTION_SEND.equals(intent.getAction()) &amp;&amp; intent.hasExtra(Intent.EXTRA_STREAM)) {
            <span class="keyword">String</span> type = intent.getType();
            Uri stream = (Uri) intent.getParcelableExtra(Intent.EXTRA_STREAM);
            <span class="keyword">if</span> (stream != <span class="keyword">null</span> &amp;&amp; type != <span class="keyword">null</span>) {
                <span class="keyword">if</span> (MimeUtility.mimeTypeMatches(type, Email.ACCEPTABLE_ATTACHMENT_SEND_TYPES)) {
                    addAttachment(stream);
                }
            }
        }

        <span class="comment">// Finally - expose fields that were filled in but are normally hidden, and set focus</span>

        <span class="keyword">if</span> (mCcView.length() &gt; <span class="number">0</span>) {
            mCcView.setVisibility(View.VISIBLE);
        }
        <span class="keyword">if</span> (mBccView.length() &gt; <span class="number">0</span>) {
            mBccView.setVisibility(View.VISIBLE);
        }
        setNewMessageFocus();
        mDraftNeedsSaving = <span class="keyword">false</span>;
    }
</code></pre>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.flysnow.org/2011/07/19/android-send-email-intro.html" data-id="ci7ewbgrg0037gun11dnpntw1" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Android/">Android</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Email/">Email</a></li></ul>

    </footer>
  </div>
  
</article>

  

  
    <article id="post-practices-of-an-agile-developer" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2011/07/17/practices-of-an-agile-developer.html" class="article-date">
  <time datetime="2011-07-17T02:09:52.000Z" itemprop="datePublished">2011-07-17</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/软件开发/">软件开发</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2011/07/17/practices-of-an-agile-developer.html">高效程序员的45个习惯--敏捷开发修炼之道</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>笔者 写道<br>在去年就在豆瓣上看到这本不错的书，近来才拿到这本书好好的研读一下。读了之后又对本书有了更深的认识。我如此推崇她，因为我觉得她不像有些书那样的长篇大论，讲的都是大道理，看了云里雾里的。而这本书呢，讲的都是我们项目开发中实实在在遇到的，只是平时不太注意，作者只是用更朴素易懂的语言组织总结出来的一个个好习惯。</p>
<p>本书的文字言简意赅，写作方式采用坏习惯和好习惯的对比方式，当时也许你觉得这些习惯有点偏激，不过不要烦恼，因为每个习惯的最后作者都给出了中庸平衡之道。</p>
<p>相信很多人都有这本书，但是也有没有的，或者还不知道这本书，为了加深我自己对这45个习惯的理解和为了让更多的人知道、了解这45个习惯，所以我在这篇博客中记录下这45个习惯。前面我也提了，这本书言简意赅，所以对于习惯的总结更是如此，让我们可以一看到习惯的标题，就知道这个习惯的精髓所在。</p>
<h3 id="态度决定一切">态度决定一切</h3><ol>
<li>做事</li>
</ol>
<ol>
<li>欲速则不达</li>
</ol>
<ol>
<li>对事不对人</li>
</ol>
<ol>
<li>排除万难，奋勇前进</li>
</ol>
<h3 id="学无止境">学无止境</h3><ol>
<li>跟踪变化</li>
</ol>
<ol>
<li>对团队投资</li>
</ol>
<ol>
<li>懂得丢弃</li>
</ol>
<ol>
<li>打破沙锅问到底</li>
</ol>
<ol>
<li>把握开发节奏</li>
</ol>
<h3 id="交付用户想要的软件">交付用户想要的软件</h3><ol>
<li>让客户做决定</li>
</ol>
<ol>
<li>让设计指导而不是操纵开发</li>
</ol>
<ol>
<li>合理地使用技术</li>
</ol>
<ol>
<li>保持可以发布</li>
</ol>
<ol>
<li>提早集成，频繁集成</li>
</ol>
<ol>
<li>提早实现自动化部署</li>
</ol>
<ol>
<li>使用演示获得频繁反馈</li>
</ol>
<ol>
<li>使用短迭代，增量发布</li>
</ol>
<ol>
<li>固定的价格就意味着背叛承诺</li>
</ol>
<h3 id="敏捷反馈">敏捷反馈</h3><ol>
<li>守护天使（单元测试）</li>
</ol>
<ol>
<li>先用它再实现它</li>
</ol>
<ol>
<li>不同环境，就有不用问题</li>
</ol>
<ol>
<li>自动验收测试</li>
</ol>
<ol>
<li>度量真实的进度</li>
</ol>
<ol>
<li>倾听用户的声音</li>
</ol>
<h3 id="敏捷编码">敏捷编码</h3><ol>
<li>代码要清晰地表达意图</li>
</ol>
<ol>
<li>用代码沟通</li>
</ol>
<ol>
<li>动态评估取舍</li>
</ol>
<ol>
<li>增量式编程</li>
</ol>
<ol>
<li>保持简单</li>
</ol>
<ol>
<li>编写内聚的代码</li>
</ol>
<ol>
<li>告知，不要询问</li>
</ol>
<ol>
<li>根据契约进行替换</li>
</ol>
<h3 id="敏捷调试">敏捷调试</h3><ol>
<li>记录问题解决日志</li>
</ol>
<ol>
<li>警告就是错误</li>
</ol>
<ol>
<li>对问题各个击破</li>
</ol>
<ol>
<li>报告所有的异常</li>
</ol>
<ol>
<li>提供有用的错误信息</li>
</ol>
<h3 id="敏捷协作">敏捷协作</h3><ol>
<li>定期安排会面时间</li>
</ol>
<ol>
<li>架构师必须写代码</li>
</ol>
<ol>
<li>实行代码集体所有制</li>
</ol>
<ol>
<li>成为指导者</li>
</ol>
<ol>
<li>允许大家自己想办法</li>
</ol>
<ol>
<li>准备好后再共享代码</li>
</ol>
<ol>
<li>进行代码复查</li>
</ol>
<ol>
<li>及时通报进展与问题</li>
</ol>
<p>笔者 写道</p>
<p>这些都是些很不错的习惯，如果有你没有用到的，可以试着使用一下，有条件的也可以在团队推广使用，看看是否能带来惊喜。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.flysnow.org/2011/07/17/practices-of-an-agile-developer.html" data-id="ci7ewbgrj003cgun1eo1di2v7" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/敏捷/">敏捷</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/软件工程/">软件工程</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/软件开发/">软件开发</a></li></ul>

    </footer>
  </div>
  
</article>

  

  
    <article id="post-android-thread-notice-item" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2011/05/21/android-thread-notice-item.html" class="article-date">
  <time datetime="2011-05-21T06:43:55.000Z" itemprop="datePublished">2011-05-21</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Android/">Android</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2011/05/21/android-thread-notice-item.html">Android中关于线程使用的几点注意事项</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>我们都知道Android是单线程模型，这意味着Android UI操作并不是线程安全的并且这些操作必须在UI线程中执行，所以你单纯的new一个Thrad并且start()不行的，因为这违背了Android的单线程模型。</p>
<p>很幸运的是Android为我们提供了在其他线程中访问UI线程的方法，相信大家都见过，这几个就是Activity的runOnUiThread方法，View的post和postDelayed方法，以及最常用的Hanlder和AsyncTask，这里我推荐使用Hanlder和AsyncTask，尤其是AsyncTask，因为使用他们你会发现你的代码很容易被理解，因为他们都有一些具有特定职责的方法，尤其是AsyncTask，有预处理的方法onPreExecute，有后台执行任务的方法doInBackground，有更新进度的方法publishProgress，有返回结果的方法onPostExecute等等，这就不像post这些方法，把所有的操作都一大坨的写在一个Runnable里。</p>
<p>有了Android为我们提供了这些方法我们就可以很好的解决一些长时间处理的任务了，但是在使用的时候我们还必须注意以下几点：</p>
<ol>
<li>这些方法或者类必须在在UI线程中创建和调用</li>
</ol>
<ol>
<li>其实这些方法和类最终的实现都是Android的Message、MessageQueue和Looper的机制，所以不要期待你会马上看到结果（效果），因为这是一个Loop一直循环出MessageQueue中的Message执行的过程，如果你没有看到效果，那么等等吧，因为还没有轮到你。</li>
</ol>
<ol>
<li>有线程（多个）的地方就会有并发，会有资源共享冲突，所以在使用的时候谨慎点吧，说不准你的一个线程中使用的变量已经被另一个线程改的面目全非了。。</li>
</ol>
<p>后语：忙的很久没有写博客了，搭黑写了平时总结的线程的注意事项，demo就不写了，相信大家都会，此外多了解点Android的消息机制对于这个理解比较好的多。。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.flysnow.org/2011/05/21/android-thread-notice-item.html" data-id="ci7ewbgrm003jgun16tnvt5yv" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Android/">Android</a></li></ul>

    </footer>
  </div>
  
</article>

  

  
    <article id="post-android-intents-and-intent-filters-three" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2011/03/29/android-intents-and-intent-filters-three.html" class="article-date">
  <time datetime="2011-03-28T18:02:48.000Z" itemprop="datePublished">2011-03-29</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Android/">Android</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2011/03/29/android-intents-and-intent-filters-three.html">Android Intents and Intent Filters(三)</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="数据(data)检测">数据(data)检测</h2><p>data标记也是在intent-filter中定义的，大致格式如下:</p>
<pre><code><span class="tag">&lt;<span class="title">intent-filter</span>&gt;</span>
                <span class="tag">&lt;<span class="title">action</span> <span class="attribute">android:name</span>=<span class="value">"android.intent.action.VIEW"</span>&gt;</span><span class="tag">&lt;/<span class="title">action</span>&gt;</span>
                <span class="tag">&lt;<span class="title">category</span> <span class="attribute">android:name</span>=<span class="value">"android.intent.category.DEFAULT"</span>&gt;</span><span class="tag">&lt;/<span class="title">category</span>&gt;</span>
                <span class="tag">&lt;<span class="title">data</span> <span class="attribute">android:mimeType</span>=<span class="value">"text/plain"</span>&gt;</span><span class="tag">&lt;/<span class="title">data</span>&gt;</span>
            <span class="tag">&lt;/<span class="title">intent-filter</span>&gt;</span>
</code></pre><p>每个data定义一个URI和数据类型(MIME)，URI由4个属性来定义，分别是android:scheme,android:host,android:port,android:path..这个四个属性构成如下格式的URI:<br>scheme://host:port/path</p>
<p>如：content://com.flysnow.intent:8080/show/view。其中content就是scheme，com.flysnow.intent就是host，8080就是port,show/view就是path…如果有经常使用ContentProvider的应该熟悉。。我们经常定义的authority不就是host+port吗？还有这几个元素都是可选的，但是不是随便用就可以的，port要依赖于host，没有host，port就会被忽略，不起作用，同样，如果要使用host+port(authority)就必须指定scheme。而path则依赖于scheme和authority。。</p>
<p>还有一个很重要的类型就是mimeType,这个属性用于指定内容的类型，也就是这个组件可以处理哪些类型的内容。。如text/plain表示无格式文本类型，mimeType也支持通配符，使用text/*则表示所有文本类型。通过使用它，你可以很方便的开发出关联打开诸如txt文件，pdf文件的应用。后面的两个自理将会演示txt文件查看器，图片查看器的例子。。MIME可以参考<a href="http://www.w3school.com.cn/media/media_mimeref.asp。这里有所有的内容类型的定义。。" target="_blank" rel="external">http://www.w3school.com.cn/media/media_mimeref.asp。这里有所有的内容类型的定义。。</a></p>
<h3 id="开发实例-拨打电话，text阅读器和图片查看器">开发实例-拨打电话，text阅读器和图片查看器</h3><h3 id=""> </h3><p>下面通过一个例子来演示data的检测,项目名为Intents,应用名为Intents and Filters，运行在Android2.2版本上.主启动Activity为IntentsTestList。例子包括以下演示：</p>
<ol>
<li>通过发送intent的方式“打开拨号界面并输入电话123456”。</li>
</ol>
<ol>
<li>创建一个Text文件阅读器</li>
</ol>
<ol>
<li>创建一个图片查看器</li>
</ol>
<p>首先我们实现第一项，修改IntentsTestList类如下：</p>
<pre><code><span class="comment">/**
 * Intents测试列表类
 * @author 飞雪无情
 * @since 2011-3-14
 */</span>
<span class="keyword">public</span> <span class="keyword">class</span> <span class="title">IntentsTestList</span> <span class="title">extends</span> <span class="title">ListActivity</span> {
    <span class="comment">/** Called when the activity is first created. */</span>
    @<span class="function">Override
    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>{
        super.onCreate(savedInstanceState);
      <span class="comment">//定义ListAdapter</span>
        setListAdapter(<span class="keyword">new</span> SimpleAdapter(<span class="keyword">this</span>, getData(),
                android.R.layout.simple_list_item_1, <span class="keyword">new</span> String[] { <span class="string">"title"</span> },<span class="keyword">new</span> <span class="keyword">int</span>[] {android.R.id.text1}));
        getListView().setTextFilterEnabled(<span class="keyword">true</span>);
    }
    @<span class="function">Override
    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onListItemClick</span><span class="params">(ListView l, View v, <span class="keyword">int</span> position, <span class="keyword">long</span> id)</span> </span>{
        Intent intent=(Intent)getData().<span class="keyword">get</span>(position).<span class="keyword">get</span>(<span class="string">"intent"</span>);
        Boolean isActivity=(Boolean)getData().<span class="keyword">get</span>(position).<span class="keyword">get</span>(<span class="string">"isActivity"</span>);
        <span class="keyword">if</span>(isActivity){
            startActivity(intent);
        }<span class="keyword">else</span>{
            sendBroadcast(intent);
        }
    }

    <span class="comment">/**
     * 返回ListView需要的数据
     * @return ListView需要的数据
     */</span>
    <span class="keyword">private</span> List&lt;map&lt;<span class="keyword">string</span>,<span class="keyword">object</span>&gt;&gt; getData() {
        List&lt;map&lt;<span class="keyword">string</span>,<span class="keyword">object</span>&gt;&gt; data=<span class="keyword">new</span> ArrayList&lt;map&lt;<span class="keyword">string</span>,<span class="keyword">object</span>&gt;&gt;();
        addItem(data, <span class="string">"打开拨号界面并输入电话123456"</span>, <span class="keyword">new</span> Intent(Intent.ACTION_DIAL, Uri.parse(<span class="string">"tel://123456"</span>)), <span class="keyword">true</span>);
        <span class="keyword">return</span> data;
    }
    <span class="comment">/**
     * 给ListView添加数据
     * @param data 存储数据的List
     * @param name 要显示的Title
     * @param intent 单击某一项时要启动的Activity
     * @param isActivity 启动的是否是Activity，true是，false为广播
     */</span>
    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">addItem</span><span class="params">(List&lt;map&lt;<span class="keyword">string</span>,<span class="keyword">object</span>&gt;&gt; data, String name, Intent intent,boolean isActivity)</span> </span>{
        Map&lt;<span class="keyword">string</span>, <span class="keyword">object</span>=<span class="string">""</span>&gt; temp = <span class="keyword">new</span> HashMap&lt;<span class="keyword">string</span>, <span class="keyword">object</span>=<span class="string">""</span>&gt;();
        temp.put(<span class="string">"title"</span>, name);
        temp.put(<span class="string">"intent"</span>, intent);
        temp.put(<span class="string">"isActivity"</span>, isActivity);
        data.add(temp);
    }

}
</code></pre><p>这时我们运行程序，单击“打开拨号界面并输入电话123456”就会打开系统的自带的拨号界面，并且默认已经录入了要拨打的号码“123456”。效果图如下：<br><img src="http://dl.iteye.com/upload/attachment/449159/2d492720-aea1-316f-a85f-52e465d8b106.png" alt=""></p>
<p><img src="http://dl.iteye.com/upload/attachment/449161/b0112c45-6c10-351d-a538-80b8b0a34b6c.png" alt=""></p>
<h3 id="然后我们实现第二功能-txt文件阅读器">然后我们实现第二功能-txt文件阅读器</h3><p>新建TextWatcherActivity代码如下：</p>
<pre><code><span class="javadoc">/**
 * 显示文本的Activity
 *<span class="javadoctag"> @author</span> 飞雪无情
 *<span class="javadoctag"> @since</span> 2011-3-24
 */</span>
<span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TextWatcherActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span> </span>{
    <span class="keyword">private</span> TextView mTextView;

    <span class="annotation">@Override</span>
    <span class="keyword">protected</span> <span class="function"><span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>{
        <span class="keyword">super</span>.onCreate(savedInstanceState);
        mTextView=<span class="keyword">new</span> TextView(<span class="keyword">this</span>);
        setContentView(mTextView);
    }

    <span class="annotation">@Override</span>
    <span class="keyword">protected</span> <span class="function"><span class="keyword">void</span> <span class="title">onStart</span><span class="params">()</span> </span>{
        <span class="keyword">super</span>.onStart();
        Intent txtIntent=getIntent();
        Uri data=txtIntent.getData();
        String txt;
        <span class="keyword">try</span> {
            txt = readTxt(data);
        } <span class="keyword">catch</span> (IOException e) {
            txt=<span class="string">"打开txt文件异常"</span>;
        }
        mTextView.setText(txt);
    }
    <span class="javadoc">/**
     * 读取txt文本
     *<span class="javadoctag"> @param</span> txtUri
     *<span class="javadoctag"> @return</span>
     *<span class="javadoctag"> @throws</span> IOException
     */</span>
    <span class="keyword">private</span> <span class="function">String <span class="title">readTxt</span><span class="params">(Uri txtUri)</span> <span class="keyword">throws</span> IOException</span>{
        BufferedReader bufferedReader=<span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> InputStreamReader(getContentResolver().openInputStream(txtUri),Charset.forName(<span class="string">"GBK"</span>)));
        StringBuilder txt=<span class="keyword">new</span> StringBuilder();
        String buf=<span class="string">""</span>;
        <span class="keyword">while</span>((buf=bufferedReader.readLine())!=<span class="keyword">null</span>){
            txt.append(buf).append(<span class="string">"\n"</span>);
        }
        <span class="function"><span class="keyword">return</span> txt.<span class="title">toString</span><span class="params">()</span></span>;
    }

}
</code></pre><p>然后在AndroidManifest.xml中加入如下定义:</p>
<pre><code><span class="tag">&lt;<span class="title">activity</span> <span class="attribute">android:name</span>=<span class="value">".TextWatcherActivity"</span>
            <span class="attribute">android:label</span>=<span class="value">"查看TXT文件"</span>&gt;</span>
            <span class="tag">&lt;<span class="title">intent-filter</span>&gt;</span>
                <span class="tag">&lt;<span class="title">action</span> <span class="attribute">android:name</span>=<span class="value">"android.intent.action.VIEW"</span>&gt;</span><span class="tag">&lt;/<span class="title">action</span>&gt;</span>
                <span class="tag">&lt;<span class="title">category</span> <span class="attribute">android:name</span>=<span class="value">"android.intent.category.DEFAULT"</span>&gt;</span><span class="tag">&lt;/<span class="title">category</span>&gt;</span>
                <span class="tag">&lt;<span class="title">data</span> <span class="attribute">android:mimeType</span>=<span class="value">"text/plain"</span>&gt;</span><span class="tag">&lt;/<span class="title">data</span>&gt;</span>
            <span class="tag">&lt;/<span class="title">intent-filter</span>&gt;</span>
        <span class="tag">&lt;/<span class="title">activity</span>&gt;</span>
</code></pre><p>这样在单击txt文件的时候就可以选择我们的这个Activity对txt文件处理，显示其内容.我们新建一个1.txt文件，写上一些内容，放在我们的sd卡中，使用文件管理工具查看这个txt文件，会弹出如下图的提示，看到我们刚刚做的《TXT阅读器》了吧。</p>
<p><img src="http://dl.iteye.com/upload/attachment/449475/079e5ed7-7342-39bf-95af-c95ec024681c.png" alt=""></p>
<p>选择“查看TXT文件”，就可以看到我们的txt内容：</p>
<p><img src="http://dl.iteye.com/upload/attachment/449477/e1fb042a-0555-3e43-b225-7fe7fce94dad.png" alt=""></p>
<h3 id="最后实现第三个功能—图片查看器">最后实现第三个功能—图片查看器</h3><p>新建ImageWatcherActivity，代码如下：</p>
<pre><code><span class="javadoc">/**
 * 显示文本的Activity
 *<span class="javadoctag"> @author</span> 飞雪无情
 *<span class="javadoctag"> @since</span> 2011-3-24
 */</span>
<span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ImageWatcherActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span> </span>{
    <span class="keyword">private</span> <span class="keyword">final</span> String IMAGE_URI_KEY=<span class="string">"imageUriKey"</span>;
    <span class="keyword">private</span> Uri image;
    <span class="keyword">private</span> ImageView mImageView;

    <span class="annotation">@Override</span>
    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>{
        <span class="keyword">super</span>.onCreate(savedInstanceState);
        mImageView=<span class="keyword">new</span> ImageView(<span class="keyword">this</span>);
        setContentView(mImageView);
    }

    <span class="annotation">@Override</span>
    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onStart</span><span class="params">()</span> </span>{
        <span class="keyword">super</span>.onStart();
        Intent txtIntent=getIntent();
        image=txtIntent.getData();
        <span class="comment">//对于大图片未做优化处理</span>
        mImageView.setImageURI(image);
    }

    <span class="annotation">@Override</span>
    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onRestoreInstanceState</span><span class="params">(Bundle savedInstanceState)</span> </span>{
        <span class="keyword">super</span>.onRestoreInstanceState(savedInstanceState);
        image=savedInstanceState.getParcelable(IMAGE_URI_KEY);
        mImageView.setImageURI(image);
    }

    <span class="annotation">@Override</span>
    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onSaveInstanceState</span><span class="params">(Bundle outState)</span> </span>{
        <span class="keyword">super</span>.onSaveInstanceState(outState);
        outState.putParcelable(IMAGE_URI_KEY,image);
    }

}
</code></pre><p>然后在AndroidManifest.xml中加入如下定义:</p>
<pre><code><span class="tag">&lt;<span class="title">activity</span> <span class="attribute">android:name</span>=<span class="value">".ImageWatcherActivity"</span>
            <span class="attribute">android:label</span>=<span class="value">"查看图片文件"</span>&gt;</span>
            <span class="tag">&lt;<span class="title">intent-filter</span>&gt;</span>
                <span class="tag">&lt;<span class="title">action</span> <span class="attribute">android:name</span>=<span class="value">"android.intent.action.VIEW"</span>&gt;</span><span class="tag">&lt;/<span class="title">action</span>&gt;</span>
                <span class="tag">&lt;<span class="title">category</span> <span class="attribute">android:name</span>=<span class="value">"android.intent.category.DEFAULT"</span>&gt;</span><span class="tag">&lt;/<span class="title">category</span>&gt;</span>
                <span class="tag">&lt;<span class="title">data</span> <span class="attribute">android:mimeType</span>=<span class="value">"image/*"</span>&gt;</span><span class="tag">&lt;/<span class="title">data</span>&gt;</span>
            <span class="tag">&lt;/<span class="title">intent-filter</span>&gt;</span>
        <span class="tag">&lt;/<span class="title">activity</span>&gt;</span>
</code></pre><p>这样在单击图片文件的时候就可以选择我们的这个Activity对txt文件处理并且显示。</p>
<p><img src="http://dl.iteye.com/upload/attachment/449481/9b6c7d30-4ed9-3fb4-8615-42dea2f0e02c.png" alt=""></p>
<p><img src="http://dl.iteye.com/upload/attachment/449483/dba27c5a-45df-3339-9fa6-e2135cff7fb6.png" alt=""></p>
<h3 id="数据(data)检测小结">数据(data)检测小结</h3><p>对于data的匹配，如果说怎么怎么匹配，在什么情况下通过可能会比较难以理解，这里以一种简单的方式来解说。</p>
<p>假定我们定义的Intent Filter 的data标签为集合A，传递的Intent中包含的data为集合B，当B是A的子集时就通过了（Action和Category也得检测通过）。如果B为空（不配置data），那么A也得为空（不配置data）才能通过<br>。更详细（繁琐）的介绍请参考doc</p>
<h3 id="Intents_and_Intent_Filters总结">Intents and Intent Filters总结</h3><p>Android提供了以Intent的方式调用Android设备的内置Google应用，比如打电话，调用Google浏览器打开网页，搜索等。关于这方便的介绍可以参考Android开发文档《Intents List: Invoking Google Applications on Android Devices》这一节的介绍，很详细。docs/guide/appendix/g-app-intents.html。</p>
<p>Intent是一个很好的设计，它提供了一种在各个组建之间通信的方式，也为我们使用其他的应用的功能提供了可能，这样如果我们想在自己的应用打开一个网页，我们就不用特意迁入一个webview，我们直接调用Android内的浏览器打开即可。。</p>
<p>最后值得一提的是PackageManager这个类中为我们提供了一系列的query…()方法，可以让我们根据我们定义的Intent查询特定的匹配Intent Filter标记的所有组件。。有兴趣的可以研究一下。。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.flysnow.org/2011/03/29/android-intents-and-intent-filters-three.html" data-id="ci7ewbgrp003mgun1nb2ag1me" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Android/">Android</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Intent/">Intent</a></li></ul>

    </footer>
  </div>
  
</article>

  

  
    <article id="post-do-you-know-android-resource" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2011/03/28/do-you-know-android-resource.html" class="article-date">
  <time datetime="2011-03-27T19:22:31.000Z" itemprop="datePublished">2011-03-28</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Android/">Android</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2011/03/28/do-you-know-android-resource.html">android.resource://这个Uri你知道吗</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>如何访问平时APK文件Res目录下的内容呢? 如果直接访问Apk下的assets目录可以使用AssetManager类处理，而需要访问<br>res/raw这样的文件夹怎么办呢? 这里Android123可以告诉大家APK在安装时已经解压缩，部分资源存放在/data/data<br>/package_name/这里， 比如我们想访问res/raw/android123.cwj文件，可以使用android.resource:<br>//package_name/“ + R.raw.android123 这个Uri，其中package_name是你工程的包名。<br>完整的处理代码为 Uri uri = Uri.parse(“android.resource://com.android123.Sample/raw/android123.cwj”); 即可使用工程res/raw目录下的文件了。</p>
<p>转自：<a href="http://www.android123.com.cn/androidkaifa/827.html" target="_blank" rel="external">http://www.android123.com.cn/androidkaifa/827.html</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.flysnow.org/2011/03/28/do-you-know-android-resource.html" data-id="ci7ewbgrt003rgun1pkuv71ec" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Android/">Android</a></li></ul>

    </footer>
  </div>
  
</article>

  

  
    <article id="post-android-intents-and-intent-filters-two" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2011/03/17/android-intents-and-intent-filters-two.html" class="article-date">
  <time datetime="2011-03-17T00:41:02.000Z" itemprop="datePublished">2011-03-17</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Android/">Android</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2011/03/17/android-intents-and-intent-filters-two.html">Android Intents and Intent Filters(二)</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Category（类别）检测">Category（类别）检测</h2><p>类别在中是通过标记定义的,Category和Action一样，他们的名字都是一个字符串定义，但是我们在代码中可以使用对应的类别常量，在xml文件定义中只能使用定义好的字符串。Android的Intent类中提供了很多内置的类别定义，一中类别代表一个意思，可以参考说明使用。。比如android.intent.category.LAUNCHER标表示你的应用会展示在启动列表页面，经常和android.intent.action.MAIN搭配使用</p>
<p>下面通过一个例子来说明Category的检测,项目名为Intents,应用名为Intents and Filters，运行在Android2.2版本上.主启动Activity为IntentsTestList。</p>
<p>IntentsTestList代码如下:</p>
<pre><code><span class="comment">/**
 * Intents测试列表类
 * @author 飞雪无情
 * @since 2011-3-14
 */</span>
<span class="keyword">public</span> <span class="keyword">class</span> <span class="title">IntentsTestList</span> <span class="title">extends</span> <span class="title">ListActivity</span> {
    <span class="keyword">private</span> String ACTION_VIEW=<span class="string">"com.flysnow.intent.ACTION_VIEW"</span>;
    <span class="keyword">private</span> String CATEGORY_MAN=<span class="string">"com.flysnow.intent.CATEGORY_MAN"</span>;
    <span class="keyword">private</span> String CATEGORY_SHOP=<span class="string">"com.flysnow.intent.CATEGORY_SHOP"</span>;
    <span class="comment">/** Called when the activity is first created. */</span>
    @<span class="function">Override
    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>{
        super.onCreate(savedInstanceState);
      <span class="comment">//定义ListAdapter</span>
        setListAdapter(<span class="keyword">new</span> SimpleAdapter(<span class="keyword">this</span>, getData(),
                android.R.layout.simple_list_item_1, <span class="keyword">new</span> String[] { <span class="string">"title"</span> },<span class="keyword">new</span> <span class="keyword">int</span>[] {android.R.id.text1}));
        getListView().setTextFilterEnabled(<span class="keyword">true</span>);

        filter.addCategory(CATEGORY_MAN);
        <span class="comment">//注册一个广播</span>
        super.registerReceiver(<span class="keyword">new</span> BroadcastReceiver() {

            @<span class="function">Override
            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onReceive</span><span class="params">(Context context, Intent intent)</span> </span>{
                Toast.makeText(context, <span class="string">"该Broadcast的Intent Filter设置了Category和Action"</span>, Toast.LENGTH_SHORT).show();
            }
        },filter);
    }
    @<span class="function">Override
    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onListItemClick</span><span class="params">(ListView l, View v, <span class="keyword">int</span> position, <span class="keyword">long</span> id)</span> </span>{
        Intent intent=(Intent)getData().<span class="keyword">get</span>(position).<span class="keyword">get</span>(<span class="string">"intent"</span>);
        Boolean isActivity=(Boolean)getData().<span class="keyword">get</span>(position).<span class="keyword">get</span>(<span class="string">"isActivity"</span>);
        <span class="keyword">if</span>(isActivity){
            startActivity(intent);
        }<span class="keyword">else</span>{
            sendBroadcast(intent);
        }

    }

    <span class="comment">/**
     * 返回ListView需要的数据
     * @return ListView需要的数据
     */</span>
    <span class="keyword">private</span> List&lt;map&lt;<span class="keyword">string</span>,<span class="keyword">object</span>&gt;&gt; getData() {
        List&lt;map&lt;<span class="keyword">string</span>,<span class="keyword">object</span>&gt;&gt; data=<span class="keyword">new</span> ArrayList&lt;map&lt;<span class="keyword">string</span>,<span class="keyword">object</span>&gt;&gt;();
        addItem(data, <span class="string">"1个Category检测-Activity"</span>, <span class="keyword">new</span> Intent(ACTION_VIEW).addCategory(CATEGORY_MAN),<span class="keyword">true</span>);
        addItem(data, <span class="string">"1个Category检测-Broadcast"</span>, <span class="keyword">new</span> Intent(ACTION_VIEW).addCategory(CATEGORY_MAN),<span class="keyword">false</span>);
        addItem(data, <span class="string">"2个Category检测-Activity"</span>, <span class="keyword">new</span> Intent(ACTION_VIEW).addCategory(CATEGORY_MAN).addCategory(CATEGORY_SHOP),<span class="keyword">true</span>);
        <span class="keyword">return</span> data;
    }
    <span class="comment">/**
     * 给ListView添加数据
     * @param data 存储数据的List
     * @param name 要显示的Title
     * @param intent 单击某一项时要启动的Activity
     * @param isActivity 启动的是否是Activity，true是，false为广播
     */</span>
    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">addItem</span><span class="params">(List&lt;map&lt;<span class="keyword">string</span>,<span class="keyword">object</span>&gt;&gt; data, String name, Intent intent,boolean isActivity)</span> </span>{
        Map&lt;<span class="keyword">string</span>, <span class="keyword">object</span>=<span class="string">""</span>&gt; temp = <span class="keyword">new</span> HashMap&lt;<span class="keyword">string</span>, <span class="keyword">object</span>=<span class="string">""</span>&gt;();
        temp.put(<span class="string">"title"</span>, name);
        temp.put(<span class="string">"intent"</span>, intent);
        temp.put(<span class="string">"isActivity"</span>, isActivity);
        data.add(temp);
    }
    <span class="keyword">private</span> IntentFilter filter=<span class="keyword">new</span> IntentFilter(ACTION_VIEW);

}
</code></pre><p>以上代码主要是一个ListView，列出了三个测试项，1个Category的测试和2个Category的测试，注册了一个广播.<br>为了测试新建了2个Activity，分别是CategoryActivity和Category2Activity,代码如下：</p>
<pre><code><span class="comment">/**
 * @author 飞雪无情
 * @since 2011-3-14
 */</span>
public <span class="class"><span class="keyword">class</span> <span class="title">CategoryActivity</span> <span class="keyword"><span class="keyword">extends</span></span> <span class="title">Activity</span> {</span>

    <span class="annotation">@Override</span>
    <span class="keyword">protected</span> void onCreate(<span class="type">Bundle</span> savedInstanceState) {
        <span class="keyword">super</span>.onCreate(savedInstanceState);
        <span class="type">TextView</span> text=<span class="keyword">new</span> <span class="type">TextView</span>(<span class="keyword">this</span>);
        text.setText(<span class="string">"该Activity的Intent Filter值设置了Action和1个Category，不包含android.intent.category.DEFAULT"</span>);
        setContentView(text);
    }

}




<span class="comment">/**
 * @author 飞雪无情
 * @since 2011-3-14
 */</span>
public <span class="class"><span class="keyword">class</span> <span class="title">Category2Activity</span> <span class="keyword"><span class="keyword">extends</span></span> <span class="title">Activity</span> {</span>

    <span class="annotation">@Override</span>
    <span class="keyword">protected</span> void onCreate(<span class="type">Bundle</span> savedInstanceState) {
        <span class="keyword">super</span>.onCreate(savedInstanceState);
        <span class="type">TextView</span> text=<span class="keyword">new</span> <span class="type">TextView</span>(<span class="keyword">this</span>);
        text.setText(<span class="string">"该Activity的Intent Filter值设置了Action和2个Category，不包含android.intent.category.DEFAULT"</span>);
        setContentView(text);
    }

}
</code></pre><p>很简单只是一段文字的说明</p>
<p>AndroidManiftest.xml修改如下：</p>
<pre><code><span class="pi">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="tag">&lt;<span class="title">manifest</span> <span class="attribute">xmlns:android</span>=<span class="value">"http://schemas.android.com/apk/res/android"</span>
      <span class="attribute">package</span>=<span class="value">"com.flysnow.intent"</span>
      <span class="attribute">android:versionCode</span>=<span class="value">"1"</span>
      <span class="attribute">android:versionName</span>=<span class="value">"1.0"</span>&gt;</span>
    <span class="tag">&lt;<span class="title">uses-sdk</span> <span class="attribute">android:minSdkVersion</span>=<span class="value">"8"</span> /&gt;</span>

    <span class="tag">&lt;<span class="title">application</span> <span class="attribute">android:icon</span>=<span class="value">"@drawable/icon"</span> <span class="attribute">android:label</span>=<span class="value">"@string/app_name"</span>&gt;</span>
        <span class="tag">&lt;<span class="title">activity</span> <span class="attribute">android:name</span>=<span class="value">".IntentsTestList"</span>
                  <span class="attribute">android:label</span>=<span class="value">"@string/app_name"</span>&gt;</span>
            <span class="tag">&lt;<span class="title">intent-filter</span>&gt;</span>
                <span class="tag">&lt;<span class="title">action</span> <span class="attribute">android:name</span>=<span class="value">"android.intent.action.MAIN"</span> /&gt;</span>
                <span class="tag">&lt;<span class="title">category</span> <span class="attribute">android:name</span>=<span class="value">"android.intent.category.LAUNCHER"</span> /&gt;</span>
            <span class="tag">&lt;/<span class="title">intent-filter</span>&gt;</span>
        <span class="tag">&lt;/<span class="title">activity</span>&gt;</span>
        <span class="tag">&lt;<span class="title">activity</span> <span class="attribute">android:name</span>=<span class="value">".CategoryActivity"</span> <span class="attribute">android:label</span>=<span class="value">"1个Category检测"</span>&gt;</span>
            <span class="tag">&lt;<span class="title">intent-filter</span>&gt;</span>
                <span class="tag">&lt;<span class="title">action</span> <span class="attribute">android:name</span>=<span class="value">"com.flysnow.intent.ACTION_VIEW"</span>&gt;</span><span class="tag">&lt;/<span class="title">action</span>&gt;</span>
                <span class="tag">&lt;<span class="title">category</span> <span class="attribute">android:name</span>=<span class="value">"android.intent.category.DEFAULT"</span>&gt;</span><span class="tag">&lt;/<span class="title">category</span>&gt;</span>
                <span class="tag">&lt;<span class="title">category</span> <span class="attribute">android:name</span>=<span class="value">"com.flysnow.intent.CATEGORY_MAN"</span>&gt;</span><span class="tag">&lt;/<span class="title">category</span>&gt;</span>
            <span class="tag">&lt;/<span class="title">intent-filter</span>&gt;</span>
        <span class="tag">&lt;/<span class="title">activity</span>&gt;</span>
         <span class="tag">&lt;<span class="title">activity</span> <span class="attribute">android:name</span>=<span class="value">".Category2Activity"</span> <span class="attribute">android:label</span>=<span class="value">"2个Category检测"</span>&gt;</span>
            <span class="tag">&lt;<span class="title">intent-filter</span>&gt;</span>
                <span class="tag">&lt;<span class="title">action</span> <span class="attribute">android:name</span>=<span class="value">"com.flysnow.intent.ACTION_VIEW"</span>&gt;</span><span class="tag">&lt;/<span class="title">action</span>&gt;</span>
                <span class="tag">&lt;<span class="title">category</span> <span class="attribute">android:name</span>=<span class="value">"android.intent.category.DEFAULT"</span>&gt;</span><span class="tag">&lt;/<span class="title">category</span>&gt;</span>
                <span class="tag">&lt;<span class="title">category</span> <span class="attribute">android:name</span>=<span class="value">"com.flysnow.intent.CATEGORY_MAN"</span>&gt;</span><span class="tag">&lt;/<span class="title">category</span>&gt;</span>
                <span class="tag">&lt;<span class="title">category</span> <span class="attribute">android:name</span>=<span class="value">"com.flysnow.intent.CATEGORY_SHOP"</span>&gt;</span><span class="tag">&lt;/<span class="title">category</span>&gt;</span>
            <span class="tag">&lt;/<span class="title">intent-filter</span>&gt;</span>
        <span class="tag">&lt;/<span class="title">activity</span>&gt;</span>
    <span class="tag">&lt;/<span class="title">application</span>&gt;</span>
<span class="tag">&lt;/<span class="title">manifest</span>&gt;</span>
</code></pre><p>为CategoryActivity添加了2个Category，一个是默认的（隐式Intent必须），一个是自定义的。而相应的Category2Activity则有三个Category。</p>
<p>我们运行测试，效果图如下：<img src="http://dl.iteye.com/upload/attachment/439568/21480d9b-d2fb-35cd-a240-5b045eacc7bd.png" alt=""><br>当点击“1个Category检测-Activity”的时候，会弹出</p>
<p><img src="http://dl.iteye.com/upload/attachment/439572/ccf8c038-7289-3d78-aa21-fecdbe95497c.png" alt=""><br>这是，因为我们的Intent定义了一个Category，这个Category在CategoryActivity和Category2Activity里都有，都能匹配上，所以就会弹出这两个Activity供我们选择，而当我们单击《2个Category检测-Activity》的时候就会直接打开Category2Activity，这是因为这个选项里的Intent有2个Category，只有Category2Activity才能匹配上。。。通过例子我们可以总结到：Intent中所包含的所有Category必须在一个组件的intent-filter中有定义，一个都不能少，否则不能通过检测。。但是intent-filter的可以有额外的Category<br>.再次提醒：</p>
<p>Android对所有传递给</p>
<p>Context.startActivity()的隐式intent至少包含”android.intent.category.DEFAULT”</p>
<p>未完待续</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.flysnow.org/2011/03/17/android-intents-and-intent-filters-two.html" data-id="ci7ewbgrv003ugun16hmy5gjv" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Android/">Android</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Intent/">Intent</a></li></ul>

    </footer>
  </div>
  
</article>

  

  
    <article id="post-android-intents-and-intent-filters-one" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2011/03/14/android-intents-and-intent-filters-one.html" class="article-date">
  <time datetime="2011-03-14T02:01:05.000Z" itemprop="datePublished">2011-03-14</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Android/">Android</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2011/03/14/android-intents-and-intent-filters-one.html">Android Intents and Intent Filters(一)</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>看过前面的几节教程的应该都会留意到一个很重要的东西，那就是Intent。Intent是什么呢？我们都知道Android有四大核心组件 Activity、Service、Broadcast Receiver和Content Provider，略去Content Provider不提，那么剩下的三个组件之间的通信考什么？这就是Intent！！它不仅可以在同一个应用中起传递信息的作用，还是可以在不同的应用进行传递信息。这就使得我们的应用和系统中的其他应用进行交互有了可能，进而使得整个Android开发变得更加精彩。想想吧，我们自己的应用可以调用系统中的通话应用进行拨号、可以调用短信应用发短信，这是多么美妙的一件事情啊！！！</p>
<h2 id="在这里你将会学到：">在这里你将会学到：</h2><ol>
<li>什么是Intent和Intent Filter</li>
</ol>
<ol>
<li>Intent和Intent Filter有什么用</li>
</ol>
<ol>
<li>怎么启动（传递）一个Intent</li>
</ol>
<ol>
<li>Intent里包含什么</li>
</ol>
<ol>
<li>什么是显式Intent以及什么隐式Intent</li>
</ol>
<ol>
<li>Intent是怎样匹配的</li>
</ol>
<h2 id="一：前言">一：前言</h2><p>在正式介绍Intent之前，我们先看下上面说的Activity、Service和Broadcast Receiver是怎样传递Intent。对于这三个组件而言，他们都有自己独立的传递Intent的机制：</p>
<ol>
<li>Activity:对于Activity来说，它主要是通过Context.startActivity()或Activity.startActivityForRestult()来启动一个存在的Activity做一些事情。当使用Activity.startActivityForResult()启动一个Activity时，可以使用Activity.setResult()返回一些结果信息，可以在Activity.onActivityResult()<br>中得到返回的结果.</li>
</ol>
<ol>
<li>Service:对于Service来说，它主要是通过Context.startService()初始化一个Service或者传递消息给正在运行的Service。同样，也可以通过Context.bindService()建立一个调用组件和目标服务之间的连接。</li>
</ol>
<ol>
<li>Broadcast Receiver:我们可以通过Context.sendBroadcast()Context.sendOrderedBroadcast()以及Context.sendStickyBroadcast()这些方法，传递Intent给感兴趣的广播。</li>
</ol>
<p>消息之间的传递是没有重叠的，比如调用startActivity()传播一个Intent，只会传播给Activity，而不会传播给Service和Broadcast Receiver，反过来也是这样的。</p>
<h2 id="二：Intent对象">二：Intent对象</h2><p>一个Intent对象包含了很多数据的信息，比如要执行的动作，类别，数据，附加信息等等，下面就一一列列出一个Intent中包含的信息。</p>
<h3 id="组件名称">组件名称</h3><p>这个组件名称字段其实就是一个ComponentName类，它包含了一个目标组件的全限定名，比如com.flysnow.intent.Activity1，这就是一个全限定名的Activity。组件名字可以通过setComponent()、setClass()或者setClassName()设置，如果设置了Intent目标组件的名字，那么这个Intent就会被传递给特定的组件，也就是我们说的显式Intent.如果不设置，则是隐式的Intent，Android系统将根据Intent Filter中的信息进行匹配.</p>
<h3 id="Action(动作)">Action(动作)</h3><p>一个Intent的Action在很大程度上说明这个Intent要做什么，是查看(View)、删除(Delete)、编辑(Edit)等等。Action一个字符串命名的动作，Android中预定义了很多Action，可以参考Intent类查看,下面是文档中的几个动作</p>
<p><img src="http://dl.iteye.com/upload/attachment/435153/de61628d-7112-32f4-a6b2-902e1eb72ea1.png" alt=""><br>当然，我们也可以自定义Action，比如com.flysnow.intent.ACTION_ADD,定义Action的时候最好能表明意思，要做什么，这样我们的Intent中的数据才好填充。Intent对象的getAction()可以获取动作，使用setAction()可以设置动作。</p>
<h3 id="Data（数据）">Data（数据）</h3><p>Data，其实就是一个URI，用于执行一个Action时所用到的数据的URI和MIME。不同的Action有不同的数据规格，比如ACTION_EDIT动作，数据就可以能包含一个用于编辑文档的URI,如果是一个ACTION_CALL动作，那么数据就是一个包含了tel:6546541的数据字段，所以上面提到的自定义Action时要规范命名。数据的URI和类型对于Intent的匹配是很重要的，Android往往根据数据的URI和MIME找到能处理该Intent的最佳目标组件。</p>
<h3 id="Category(类别)">Category(类别)</h3><p>Category指定了用于处理Intent的组件的类型信息，一个Intent可以添加多个Category，使用addCategory()方法即可，使用removeCategory()删除一个已经添加的类别。Android的Intent类里定义了很多常用的类别，可以参考使用。</p>
<h3 id="Extras(附加信息)">Extras(附加信息)</h3><p>有些用于处理Intent的目标组件需要一些额外的信息，那么就可以通过Intent的put..()方法把额外的信息塞入到Intent对象中，用于目标组件的使用，一个附件信息就是一个key-value的键值对..Intent有一系列的put和get方法用于处理附加信息的塞入和取出。</p>
<h3 id="Flag(标识)">Flag(标识)</h3><p>Android有很多标识，用于标记如何启动一个活动，是NEW_TASK还是其他等等，以及启动后怎么对待这个活动。。可以参考Intent类中的FLAG常量字段。</p>
<h2 id="三：Intent的解析">三：Intent的解析</h2><p>介绍完了Intent对象的构成，就要介绍Android系统是怎样解析Intent的，Android是怎么传递Intent到目标组件的呢？</p>
<h3 id="Intent分类">Intent分类</h3><p>Intent可以分为两类，一类是显式的Intent，一类是隐式的Intent，上面有过提及。显示的Intent就是指定了组件名字的，隐式的就是没有指定Intent的组件名字，需要Android根据Intent中的Action、data、Category等来解析匹配。而目标组件（Activity、Service、Broadcast Receiver）怎通过设置他们的Intent Filter来界定其处理的Intent。如果一个组件没有定义Intent Filter，那么它只能接受处理显示的Intent，只有定义了Intent Filter的组件才能同时处理隐式和显示的Intent。</p>
<h3 id="Action检测">Action检测</h3><p>为了对Action的作用进行检测，我们使用一个例子来演示Action的作用。项目名为Intents,应用名为Intents and Filters，运行在Android2.2版本上.主启动Activity为IntentsTestList</p>
<p>IntentsTestList代码如下：</p>
<pre><code><span class="comment">/**
 * Intents测试列表类
 * @author 飞雪无情
 * @since 2011-3-14
 */</span>
<span class="keyword">public</span> <span class="keyword">class</span> <span class="title">IntentsTestList</span> <span class="title">extends</span> <span class="title">ListActivity</span> {
    <span class="keyword">private</span> String ACTION_VIEW=<span class="string">"com.flysnow.intent.ACTION_VIEW"</span>;
    <span class="comment">/** Called when the activity is first created. */</span>
    @<span class="function">Override
    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>{
        super.onCreate(savedInstanceState);
      <span class="comment">//定义ListAdapter</span>
        setListAdapter(<span class="keyword">new</span> SimpleAdapter(<span class="keyword">this</span>, getData(),
                android.R.layout.simple_list_item_1, <span class="keyword">new</span> String[] { <span class="string">"title"</span> },<span class="keyword">new</span> <span class="keyword">int</span>[] {android.R.id.text1}));
        getListView().setTextFilterEnabled(<span class="keyword">true</span>);

        <span class="comment">//注册一个广播</span>
        super.registerReceiver(<span class="keyword">new</span> BroadcastReceiver() {

            @<span class="function">Override
            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onReceive</span><span class="params">(Context context, Intent intent)</span> </span>{
                Toast.makeText(context, <span class="string">"该Broadcast的Intent Filter值只设置了Action"</span>, Toast.LENGTH_SHORT).show();
            }
        },<span class="keyword">new</span> IntentFilter(ACTION_VIEW));
    }
    @<span class="function">Override
    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onListItemClick</span><span class="params">(ListView l, View v, <span class="keyword">int</span> position, <span class="keyword">long</span> id)</span> </span>{
        Intent intent=(Intent)getData().<span class="keyword">get</span>(position).<span class="keyword">get</span>(<span class="string">"intent"</span>);
        Boolean isActivity=(Boolean)getData().<span class="keyword">get</span>(position).<span class="keyword">get</span>(<span class="string">"isActivity"</span>);
        <span class="keyword">if</span>(isActivity){
            startActivity(intent);
        }<span class="keyword">else</span>{
            sendBroadcast(intent);
        }

    }

    <span class="comment">/**
     * 返回ListView需要的数据
     * @return ListView需要的数据
     */</span>
    <span class="keyword">private</span> List&lt;map&lt;<span class="keyword">string</span>,<span class="keyword">object</span>&gt;&gt; getData() {
        List&lt;map&lt;<span class="keyword">string</span>,<span class="keyword">object</span>&gt;&gt; data=<span class="keyword">new</span> ArrayList&lt;map&lt;<span class="keyword">string</span>,<span class="keyword">object</span>&gt;&gt;();
        addItem(data, <span class="string">"空Action的Activity"</span>, <span class="keyword">new</span> Intent(),<span class="keyword">true</span>);
        addItem(data, <span class="string">"Action检测-Activity"</span>, <span class="keyword">new</span> Intent(ACTION_VIEW),<span class="keyword">true</span>);
        addItem(data, <span class="string">"Action检测-Broadcast"</span>, <span class="keyword">new</span> Intent(ACTION_VIEW),<span class="keyword">false</span>);
        <span class="keyword">return</span> data;
    }
    <span class="comment">/**
     * 给ListView添加数据
     * @param data 存储数据的List
     * @param name 要显示的Title
     * @param intent 单击某一项时要启动的Activity
     * @param isActivity 启动的是否是Activity，true是，false为广播
     */</span>
    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">addItem</span><span class="params">(List&lt;map&lt;<span class="keyword">string</span>,<span class="keyword">object</span>&gt;&gt; data, String name, Intent intent,boolean isActivity)</span> </span>{
        Map&lt;<span class="keyword">string</span>, <span class="keyword">object</span>=<span class="string">""</span>&gt; temp = <span class="keyword">new</span> HashMap&lt;<span class="keyword">string</span>, <span class="keyword">object</span>=<span class="string">""</span>&gt;();
        temp.put(<span class="string">"title"</span>, name);
        temp.put(<span class="string">"intent"</span>, intent);
        temp.put(<span class="string">"isActivity"</span>, isActivity);
        data.add(temp);
    }
}
</code></pre><p>这里主要是使用ListActivity列出3个测试，一个测试空的Intent,一个测试只有Action的Intent—Activity版，一个测试只有Action的Intent—Broadcast版。。。</p>
<p>为了测试startActivity()，我们新建一个Activity名字为ActionActivity代码如下：</p>
<pre><code><span class="comment">/**
 * @author 飞雪无情
 * @since 2011-3-14
 */</span>
public <span class="class"><span class="keyword">class</span> <span class="title">ActionActivity</span> <span class="keyword"><span class="keyword">extends</span></span> <span class="title">Activity</span> {</span>

    <span class="annotation">@Override</span>
    <span class="keyword">protected</span> void onCreate(<span class="type">Bundle</span> savedInstanceState) {
        <span class="keyword">super</span>.onCreate(savedInstanceState);
        <span class="type">TextView</span> text=<span class="keyword">new</span> <span class="type">TextView</span>(<span class="keyword">this</span>);
        text.setText(<span class="string">"该Activity的Intent Filter值只设置了Action"</span>);
        setContentView(text);
    }

}
</code></pre><p>很简单，只有一段文本的展示。</p>
<p>AndroidManifest.xml修改如下:</p>
<pre><code><span class="pi">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="tag">&lt;<span class="title">manifest</span> <span class="attribute">xmlns:android</span>=<span class="value">"http://schemas.android.com/apk/res/android"</span>
      <span class="attribute">package</span>=<span class="value">"com.flysnow.intent"</span>
      <span class="attribute">android:versionCode</span>=<span class="value">"1"</span>
      <span class="attribute">android:versionName</span>=<span class="value">"1.0"</span>&gt;</span>
    <span class="tag">&lt;<span class="title">uses-sdk</span> <span class="attribute">android:minSdkVersion</span>=<span class="value">"8"</span> /&gt;</span>

    <span class="tag">&lt;<span class="title">application</span> <span class="attribute">android:icon</span>=<span class="value">"@drawable/icon"</span> <span class="attribute">android:label</span>=<span class="value">"@string/app_name"</span>&gt;</span>
        <span class="tag">&lt;<span class="title">activity</span> <span class="attribute">android:name</span>=<span class="value">".IntentsTestList"</span>
                  <span class="attribute">android:label</span>=<span class="value">"@string/app_name"</span>&gt;</span>
            <span class="tag">&lt;<span class="title">intent-filter</span>&gt;</span>
                <span class="tag">&lt;<span class="title">action</span> <span class="attribute">android:name</span>=<span class="value">"android.intent.action.MAIN"</span> /&gt;</span>
                <span class="tag">&lt;<span class="title">category</span> <span class="attribute">android:name</span>=<span class="value">"android.intent.category.LAUNCHER"</span> /&gt;</span>
            <span class="tag">&lt;/<span class="title">intent-filter</span>&gt;</span>
        <span class="tag">&lt;/<span class="title">activity</span>&gt;</span>
        <span class="tag">&lt;<span class="title">activity</span> <span class="attribute">android:name</span>=<span class="value">".ActionActivity"</span> <span class="attribute">android:label</span>=<span class="value">"Action检测"</span>&gt;</span>
            <span class="tag">&lt;<span class="title">intent-filter</span>&gt;</span>
                <span class="tag">&lt;<span class="title">action</span> <span class="attribute">android:name</span>=<span class="value">"com.flysnow.intent.ACTION_VIEW"</span>&gt;</span><span class="tag">&lt;/<span class="title">action</span>&gt;</span>
                <span class="tag">&lt;<span class="title">action</span> <span class="attribute">android:name</span>=<span class="value">"android.intent.action.VIEW"</span>&gt;</span><span class="tag">&lt;/<span class="title">action</span>&gt;</span>
                <span class="tag">&lt;<span class="title">category</span> <span class="attribute">android:name</span>=<span class="value">"android.intent.category.DEFAULT"</span>&gt;</span><span class="tag">&lt;/<span class="title">category</span>&gt;</span>
            <span class="tag">&lt;/<span class="title">intent-filter</span>&gt;</span>
        <span class="tag">&lt;/<span class="title">activity</span>&gt;</span>

    <span class="tag">&lt;/<span class="title">application</span>&gt;</span>
<span class="tag">&lt;/<span class="title">manifest</span>&gt;</span>
</code></pre><p>很简单，为我们的ActionContext加上了两个action标签和一个category标签,加category标签设置成android.intent.category.DEFAULT是为了让这个Activity可以接收隐式的Intent请求，这是Android规定的，对于Activity，使用Context.startActivity()传递隐式Intent，默认是包含了android.intent.category.DEFAULT的，所以定义的Activity要想接收，必须在Intent Filter里添加android.intent.category.DEFAULT这个Category。</p>
<p>运行入下图：<br><img src="http://dl.iteye.com/upload/attachment/435312/5a7c0913-7b0f-3035-8b65-abe0a68dd21f.png" alt=""><br>当点击“空Action的Activity”的时候，会报异常，因为Intent什么都没有设置，没有任何的Activity能处理它<br>。当点击“Action检测-Activity”的时候会打开我们的ActionActivity这个Activity，点击“Action检测-Broadcast”会弹出Toast提示，说明已经被接收到。。从上面我们可以看出，当Intent设置了Action时，只要对应的组件的Intent Filter中包含该Action的定义，那么这个组件就会接收该Intent。。。</p>
<p>因为内容较多，，所以进行了分节。。。这样也会使得看本章带的Demo的时候不至于迷糊，因为这个Demo就只是实现了这一个功能。如果多个功能测试的话，就会在Demo改来改去，导致Demo代码不清晰了。未完待续，敬请期待！！！</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.flysnow.org/2011/03/14/android-intents-and-intent-filters-one.html" data-id="ci7ewbgry003ygun1swhady1h" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Android/">Android</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Intent/">Intent</a></li></ul>

    </footer>
  </div>
  
</article>

  

  
  
    <nav id="page-nav">
      <a class="extend prev" rel="prev" href="/page/2/">&laquo; Prev</a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><a class="page-number" href="/page/5/">5</a><a class="extend next" rel="next" href="/page/4/">Next &raquo;</a>
    </nav>
  
</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Android/">Android</a><span class="category-list-count">36</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Hexo/">Hexo</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/">Linux</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/软件开发/">软件开发</a><span class="category-list-count">2</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/API/">API</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Android/">Android</a><span class="tag-list-count">36</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Apache/">Apache</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Email/">Email</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Github/">Github</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Hexo/">Hexo</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Http/">Http</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HttpClitent/">HttpClitent</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Intent/">Intent</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linux/">Linux</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Nginx/">Nginx</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PHP/">PHP</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Ubuntu/">Ubuntu</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Widget/">Widget</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/goagent/">goagent</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/gradle/">gradle</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/代理/">代理</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/开源/">开源</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/敏捷/">敏捷</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/翻墙/">翻墙</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/翻译/">翻译</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/软件工程/">软件工程</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/软件开发/">软件开发</a><span class="tag-list-count">2</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/API/" style="font-size: 13.33px;">API</a><a href="/tags/Android/" style="font-size: 20px;">Android</a><a href="/tags/Apache/" style="font-size: 10px;">Apache</a><a href="/tags/Email/" style="font-size: 10px;">Email</a><a href="/tags/Github/" style="font-size: 10px;">Github</a><a href="/tags/Hexo/" style="font-size: 10px;">Hexo</a><a href="/tags/Http/" style="font-size: 10px;">Http</a><a href="/tags/HttpClitent/" style="font-size: 10px;">HttpClitent</a><a href="/tags/Intent/" style="font-size: 13.33px;">Intent</a><a href="/tags/Linux/" style="font-size: 15px;">Linux</a><a href="/tags/Nginx/" style="font-size: 10px;">Nginx</a><a href="/tags/PHP/" style="font-size: 10px;">PHP</a><a href="/tags/Ubuntu/" style="font-size: 18.33px;">Ubuntu</a><a href="/tags/Widget/" style="font-size: 16.67px;">Widget</a><a href="/tags/goagent/" style="font-size: 10px;">goagent</a><a href="/tags/gradle/" style="font-size: 10px;">gradle</a><a href="/tags/代理/" style="font-size: 10px;">代理</a><a href="/tags/开源/" style="font-size: 10px;">开源</a><a href="/tags/敏捷/" style="font-size: 10px;">敏捷</a><a href="/tags/翻墙/" style="font-size: 10px;">翻墙</a><a href="/tags/翻译/" style="font-size: 10px;">翻译</a><a href="/tags/软件工程/" style="font-size: 10px;">软件工程</a><a href="/tags/软件开发/" style="font-size: 11.67px;">软件开发</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/03/">三月 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/01/">一月 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/07/">七月 2014</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/03/">三月 2014</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/02/">二月 2014</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/12/">十二月 2013</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/11/">十一月 2013</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/10/">十月 2013</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/03/">三月 2013</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/02/">二月 2013</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/01/">一月 2013</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/12/">十二月 2011</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/11/">十一月 2011</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/10/">十月 2011</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/07/">七月 2011</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/05/">五月 2011</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/03/">三月 2011</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/02/">二月 2011</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/01/">一月 2011</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2010/11/">十一月 2010</a><span class="archive-list-count">7</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2015/03/10/github-page-with-hexo.html">使用Hexo在Github上搭建自己的博客</a>
          </li>
        
          <li>
            <a href="/2015/01/12/android-gradle-plugin-translate-done.html">Android Gradle插件中文指南</a>
          </li>
        
          <li>
            <a href="/2014/07/13/effective-programming-more-than-writing-code.html">高效能程序员的修炼</a>
          </li>
        
          <li>
            <a href="/2014/03/22/android-avd-not-launcher.html">android新建大分辨率模拟器不能启动的问题</a>
          </li>
        
          <li>
            <a href="/2014/02/20/android-overlay-guide.html">android覆盖式引导</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2015 飞雪无情<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">首页</a>
  
    <a href="/archives" class="mobile-nav-link">归档</a>
  
    <a href="/about" class="mobile-nav-link">关于</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">
  <script src="/fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>


<script src="/js/script.js" type="text/javascript"></script>

  </div>
</body>
</html>